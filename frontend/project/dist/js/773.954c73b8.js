"use strict";(self["webpackChunkproject"]=self["webpackChunkproject"]||[]).push([[773],{3773:function(e,a,s){s.r(a),s.d(a,{default:function(){return g}});s(4114),s(8111),s(116);var n=s(6768),t=s(4232),o=s(144),l=s(1387);const c={class:"business-container"},u={class:"action-bar"},r={class:"user-info"},i={class:"user-details"},v={class:"welcome-text"},d={class:"shop-id"},k={class:"function-panel"},m={class:"content-area"};var p={__name:"BusinessView",setup(e){const a=(0,l.rd)(),s=(0,o.KR)([{key:"info",label:"商家信息",icon:"el-icon-user",routeName:"BusinessInfo"},{key:"products",label:"商品管理",icon:"el-icon-goods",routeName:"BusinessProducts"},{key:"orders",label:"订单管理",icon:"el-icon-tickets",routeName:"BusinessOrders"}]),p=(0,o.KR)({id:"",name:"",address:"",contact:"",password:"",avatar:""}),f=(0,n.EW)((()=>e=>a.currentRoute.value.name===e)),b=()=>{localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("role"),a.push("/login")},g=e=>{p.value={...p.value,...e}};return(0,n.sV)((()=>{const e=localStorage.getItem("username")||"";p.value.id=e,p.value.name=e;const a=JSON.parse(localStorage.getItem("businessUsers")||"[]"),s=a.find((a=>a.username===e));s&&(p.value={...p.value,address:s.address||"",contact:s.contact||"",avatar:s.avatar||""})})),(e,a)=>{const o=(0,n.g2)("el-avatar"),l=(0,n.g2)("el-button"),_=(0,n.g2)("router-link"),I=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",c,[(0,n.Lk)("div",u,[(0,n.Lk)("div",r,[(0,n.bF)(o,{size:40,src:p.value.avatar},null,8,["src"]),(0,n.Lk)("div",i,[(0,n.Lk)("span",v,"欢迎，"+(0,t.v_)(p.value.name),1),(0,n.Lk)("span",d,"商家ID: "+(0,t.v_)(p.value.id),1)])]),(0,n.bF)(l,{class:"logout-btn",type:"danger",onClick:b},{default:(0,n.k6)((()=>a[0]||(a[0]=[(0,n.Lk)("i",{class:"el-icon-switch-button"},null,-1),(0,n.eW)(" 退出登录 ")]))),_:1,__:[0]})]),(0,n.Lk)("div",k,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.value,(e=>((0,n.uX)(),(0,n.Wv)(_,{key:e.key,to:{name:e.routeName},class:(0,t.C4)(["function-card",{active:f.value(e.routeName)}])},{default:(0,n.k6)((()=>[(0,n.Lk)("i",{class:(0,t.C4)([e.icon,"function-icon"])},null,2),(0,n.Lk)("span",null,(0,t.v_)(e.label),1)])),_:2},1032,["to","class"])))),128))]),(0,n.Lk)("div",m,[(0,n.bF)(I,{"shop-info":p.value,onUpdateShopInfo:g},null,8,["shop-info"])])])}}},f=s(1241);const b=(0,f.A)(p,[["__scopeId","data-v-7cf2ee28"]]);var g=b}}]);
//# sourceMappingURL=773.954c73b8.js.map