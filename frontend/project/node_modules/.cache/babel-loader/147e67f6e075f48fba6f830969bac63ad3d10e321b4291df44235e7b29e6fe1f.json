{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"buyer-view\"\n};\nconst _hoisted_2 = {\n  class: \"product-list\"\n};\nconst _hoisted_3 = {\n  class: \"product-image\"\n};\nconst _hoisted_4 = [\"src\"];\nconst _hoisted_5 = {\n  class: \"product-info\"\n};\nconst _hoisted_6 = {\n  class: \"price\"\n};\nconst _hoisted_7 = {\n  class: \"business\"\n};\nconst _hoisted_8 = {\n  class: \"stock\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_button = _resolveComponent(\"el-button\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createCommentVNode(\" 模板部分完全保持不变 \"), _createElementVNode(\"div\", _hoisted_1, [_cache[1] || (_cache[1] = _createElementVNode(\"h1\", null, \"商品列表\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_2, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.products, product => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: product._id,\n      class: \"product-card\"\n    }, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"img\", {\n      src: product.image || '/placeholder-product.jpg',\n      alt: \"商品图片\"\n    }, null, 8 /* PROPS */, _hoisted_4)]), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"h3\", null, _toDisplayString(product.name), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_6, \"¥\" + _toDisplayString(product.price), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_7, \"商家：\" + _toDisplayString(product.businessId.username), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_8, \"库存：\" + _toDisplayString(product.stock), 1 /* TEXT */), _createVNode(_component_el_button, {\n      type: \"primary\",\n      onClick: $event => $options.addToCart(product)\n    }, {\n      default: _withCtx(() => [...(_cache[0] || (_cache[0] = [_createTextVNode(\"加入购物车\")]))]),\n      _: 2 /* DYNAMIC */,\n      __: [0]\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])])]);\n  }), 128 /* KEYED_FRAGMENT */))])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementBlock","_Fragment","_createCommentVNode","_createElementVNode","_hoisted_1","_hoisted_2","_renderList","$data","products","product","key","_id","_hoisted_3","src","image","alt","_hoisted_4","_hoisted_5","_toDisplayString","name","_hoisted_6","price","_hoisted_7","businessId","username","_hoisted_8","stock","_createVNode","_component_el_button","type","onClick","$event","$options","addToCart","default","_withCtx","_cache","_createTextVNode","_","__"],"sources":["E:\\实验例子\\project\\src\\views\\BuyerView.vue"],"sourcesContent":["<template>\r\n  <!-- 模板部分完全保持不变 -->\r\n  <div class=\"buyer-view\">\r\n    <h1>商品列表</h1>\r\n    <div class=\"product-list\">\r\n      <div v-for=\"product in products\" :key=\"product._id\" class=\"product-card\">\r\n        <div class=\"product-image\">\r\n          <img :src=\"product.image || '/placeholder-product.jpg'\" alt=\"商品图片\">\r\n        </div>\r\n        <div class=\"product-info\">\r\n          <h3>{{ product.name }}</h3>\r\n          <p class=\"price\">¥{{ product.price }}</p>\r\n          <p class=\"business\">商家：{{ product.businessId.username }}</p>\r\n          <p class=\"stock\">库存：{{ product.stock }}</p>\r\n          <el-button type=\"primary\" @click=\"addToCart(product)\">加入购物车</el-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ElMessage } from 'element-plus'\r\nimport productApi from '../services/product'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      products: []\r\n    }\r\n  },\r\n  async mounted() {\r\n    await this.loadProducts()\r\n  },\r\n  methods: {\r\n    async loadProducts() {\r\n      try {\r\n        const res = await productApi.getAllProducts()\r\n        this.products = res.data\r\n      } catch (error) {\r\n        ElMessage.error('加载商品失败')\r\n      }\r\n    },\r\n    addToCart(product) {\r\n      // 保留点击事件参数，添加基础日志验证功能\r\n      console.log('尝试添加商品到购物车:', product._id)\r\n      // 后续可在此处添加购物车逻辑\r\n      // 示例：this.$store.dispatch('cart/addItem', product)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.product-list {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\r\n  gap: 20px;\r\n  padding: 20px;\r\n}\r\n\r\n.product-card {\r\n  border: 1px solid #ebeef5;\r\n  border-radius: 4px;\r\n  overflow: hidden;\r\n  transition: box-shadow 0.3s;\r\n}\r\n\r\n.product-card:hover {\r\n  box-shadow: 0 2px 12px 0 rgba(0,0,0,0.1);\r\n}\r\n\r\n.product-image img {\r\n  width: 100%;\r\n  height: 200px;\r\n  object-fit: cover;\r\n}\r\n\r\n.product-info {\r\n  padding: 15px;\r\n}\r\n\r\n.price {\r\n  color: #f56c6c;\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  margin: 10px 0;\r\n}\r\n\r\n.business {\r\n  color: #909399;\r\n  font-size: 12px;\r\n}\r\n</style>"],"mappings":";;EAEOA,KAAK,EAAC;AAAY;;EAEhBA,KAAK,EAAC;AAAc;;EAEhBA,KAAK,EAAC;AAAe;mBANlC;;EASaA,KAAK,EAAC;AAAc;;EAEpBA,KAAK,EAAC;AAAO;;EACbA,KAAK,EAAC;AAAU;;EAChBA,KAAK,EAAC;AAAO;;;uBAb1BC,mBAAA,CAAAC,SAAA,SACEC,mBAAA,gBAAmB,EACnBC,mBAAA,CAgBM,OAhBNC,UAgBM,G,0BAfJD,mBAAA,CAAa,YAAT,MAAI,sBACRA,mBAAA,CAaM,OAbNE,UAaM,I,kBAZJL,mBAAA,CAWMC,SAAA,QAhBZK,WAAA,CAK6BC,KAAA,CAAAC,QAAQ,EAAnBC,OAAO;yBAAnBT,mBAAA,CAWM;MAX4BU,GAAG,EAAED,OAAO,CAACE,GAAG;MAAEZ,KAAK,EAAC;QACxDI,mBAAA,CAEM,OAFNS,UAEM,GADJT,mBAAA,CAAmE;MAA7DU,GAAG,EAAEJ,OAAO,CAACK,KAAK;MAAgCC,GAAG,EAAC;4BAPtEC,UAAA,E,GASQb,mBAAA,CAMM,OANNc,UAMM,GALJd,mBAAA,CAA2B,YAAAe,gBAAA,CAApBT,OAAO,CAACU,IAAI,kBACnBhB,mBAAA,CAAyC,KAAzCiB,UAAyC,EAAxB,GAAC,GAAAF,gBAAA,CAAGT,OAAO,CAACY,KAAK,kBAClClB,mBAAA,CAA4D,KAA5DmB,UAA4D,EAAxC,KAAG,GAAAJ,gBAAA,CAAGT,OAAO,CAACc,UAAU,CAACC,QAAQ,kBACrDrB,mBAAA,CAA2C,KAA3CsB,UAA2C,EAA1B,KAAG,GAAAP,gBAAA,CAAGT,OAAO,CAACiB,KAAK,kBACpCC,YAAA,CAAuEC,oBAAA;MAA5DC,IAAI,EAAC,SAAS;MAAEC,OAAK,EAAAC,MAAA,IAAEC,QAAA,CAAAC,SAAS,CAACxB,OAAO;;MAd7DyB,OAAA,EAAAC,QAAA,CAcgE,MAAK,KAAAC,MAAA,QAAAA,MAAA,OAdrEC,gBAAA,CAcgE,OAAK,E;MAdrEC,CAAA;MAAAC,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}