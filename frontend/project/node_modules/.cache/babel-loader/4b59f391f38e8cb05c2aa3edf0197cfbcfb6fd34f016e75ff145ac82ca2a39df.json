{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.iterator.reduce.js\";\nimport \"core-js/modules/es.set.difference.v2.js\";\nimport \"core-js/modules/es.set.intersection.v2.js\";\nimport \"core-js/modules/es.set.is-disjoint-from.v2.js\";\nimport \"core-js/modules/es.set.is-subset-of.v2.js\";\nimport \"core-js/modules/es.set.is-superset-of.v2.js\";\nimport \"core-js/modules/es.set.symmetric-difference.v2.js\";\nimport \"core-js/modules/es.set.union.v2.js\";\n// stores/cart.js\nimport { defineStore } from 'pinia';\nimport { ref, computed } from 'vue';\nimport axios from 'axios';\nexport const useCartStore = defineStore('cart', () => {\n  const items = ref([]);\n  const selectedItems = ref(new Set());\n  const loading = ref(false);\n  const error = ref(null);\n  const isLoggedIn = computed(() => !!localStorage.getItem('userToken'));\n\n  // 从后端获取购物车数据\n  const fetchCart = async () => {\n    // 检查用户是否登录\n    if (!isLoggedIn.value) {\n      error.value = '用户未登录';\n      return;\n    }\n    loading.value = true;\n    error.value = null;\n    try {\n      const token = localStorage.getItem('userToken');\n      const response = await axios.get('http://algorineko.top:8080/api/customer/cart/get', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n\n      // 映射后端数据结构到前端格式\n      items.value = response.data.map(item => ({\n        id: item.productId,\n        cartItemId: item.cartItemId,\n        name: item.product?.name || '未知商品',\n        price: Number(item.product?.price) || 0,\n        quantity: Math.max(1, Number(item.quantity) || 1),\n        image: item.product?.image || '/placeholder-product.jpg'\n      }));\n    } catch (err) {\n      error.value = err.response?.data?.message || err.message;\n      console.error('获取购物车失败:', err);\n    } finally {\n      loading.value = false;\n    }\n  };\n\n  // 更新购物车项数量\n  const updateQuantity = async (cartItemId, quantity) => {\n    // 检查用户是否登录\n    if (!isLoggedIn.value) {\n      error.value = '用户未登录';\n      return;\n    }\n    loading.value = true;\n    try {\n      const token = localStorage.getItem('userToken');\n      await axios.put(`http://algorineko.top:8080/api/customer/cart/${cartItemId}`, {\n        cartItemId,\n        quantity,\n        selectedOptions: \"\" // 根据实际需求调整\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n\n      // 更新本地状态\n      const item = items.value.find(i => i.cartItemId === cartItemId);\n      if (item) {\n        item.quantity = quantity;\n      }\n    } catch (err) {\n      error.value = err.response?.data?.message || err.message;\n      console.error('更新购物车项失败:', err);\n      // 重新获取最新数据\n      await fetchCart();\n    } finally {\n      loading.value = false;\n    }\n  };\n\n  // 移除商品\n  const removeItem = async cartItemId => {\n    // 检查用户是否登录\n    if (!isLoggedIn.value) {\n      error.value = '用户未登录';\n      return;\n    }\n    loading.value = true;\n    try {\n      const token = localStorage.getItem('userToken');\n      await axios.delete(`http://algorineko.top:8080/api/customer/cart/${cartItemId}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n\n      // 更新本地状态\n      items.value = items.value.filter(i => i.cartItemId !== cartItemId);\n      selectedItems.value.delete(cartItemId);\n    } catch (err) {\n      error.value = err.response?.data?.message || err.message;\n      console.error('删除购物车项失败:', err);\n    } finally {\n      loading.value = false;\n    }\n  };\n\n  // 批量移除商品\n  const removeItems = async cartItemIds => {\n    // 检查用户是否登录\n    if (!isLoggedIn.value) {\n      error.value = '用户未登录';\n      return;\n    }\n    loading.value = true;\n    try {\n      const token = localStorage.getItem('userToken');\n\n      // 并行删除所有选中项\n      await Promise.all(cartItemIds.map(id => axios.delete(`http://algorineko.top:8080/api/customer/cart/${id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      })));\n\n      // 更新本地状态\n      items.value = items.value.filter(i => !cartItemIds.includes(i.cartItemId));\n      cartItemIds.forEach(id => selectedItems.value.delete(id));\n    } catch (err) {\n      error.value = err.response?.data?.message || err.message;\n      console.error('批量删除购物车项失败:', err);\n    } finally {\n      loading.value = false;\n    }\n  };\n\n  // 总价计算\n  const totalPrice = computed(() => items.value.reduce((sum, item) => {\n    const price = Number(item.price) || 0;\n    const quantity = Number(item.quantity) || 1;\n    return sum + price * quantity;\n  }, 0));\n\n  // 选中商品总价\n  const selectedTotalPrice = computed(() => items.value.reduce((sum, item) => {\n    if (selectedItems.value.has(item.cartItemId)) {\n      const price = Number(item.price) || 0;\n      const quantity = Number(item.quantity) || 1;\n      return sum + price * quantity;\n    }\n    return sum;\n  }, 0));\n\n  // 选中的商品列表\n  const selectedItemsList = computed(() => items.value.filter(item => selectedItems.value.has(item.cartItemId)));\n  const toggleSelection = cartItemId => {\n    if (selectedItems.value.has(cartItemId)) {\n      selectedItems.value.delete(cartItemId);\n    } else {\n      selectedItems.value.add(cartItemId);\n    }\n  };\n\n  // 全选/取消全选\n  const toggleSelectAll = () => {\n    if (selectedItems.value.size === items.value.length) {\n      selectedItems.value.clear();\n    } else {\n      items.value.forEach(item => selectedItems.value.add(item.cartItemId));\n    }\n  };\n  const clearSelected = () => selectedItems.value.clear();\n  return {\n    items: computed(() => items.value),\n    totalPrice,\n    selectedTotalPrice,\n    selectedItems: computed(() => selectedItems.value),\n    selectedItemsList,\n    loading: computed(() => loading.value),\n    error: computed(() => error.value),\n    isLoggedIn,\n    fetchCart,\n    updateQuantity,\n    removeItem,\n    removeItems,\n    toggleSelection,\n    toggleSelectAll,\n    clearSelected\n  };\n});","map":{"version":3,"names":["defineStore","ref","computed","axios","useCartStore","items","selectedItems","Set","loading","error","isLoggedIn","localStorage","getItem","fetchCart","value","token","response","get","headers","Authorization","data","map","item","id","productId","cartItemId","name","product","price","Number","quantity","Math","max","image","err","message","console","updateQuantity","put","selectedOptions","find","i","removeItem","delete","filter","removeItems","cartItemIds","Promise","all","includes","forEach","totalPrice","reduce","sum","selectedTotalPrice","has","selectedItemsList","toggleSelection","add","toggleSelectAll","size","length","clear","clearSelected"],"sources":["E:/实验例子/project/src/stores/cart.js"],"sourcesContent":["// stores/cart.js\r\nimport { defineStore } from 'pinia'\r\nimport { ref, computed } from 'vue'\r\nimport axios from 'axios'\r\n\r\nexport const useCartStore = defineStore('cart', () => {\r\n  const items = ref([])\r\n  const selectedItems = ref(new Set())\r\n  const loading = ref(false)\r\n  const error = ref(null)\r\n  const isLoggedIn = computed(() => !!localStorage.getItem('userToken'))\r\n  \r\n  // 从后端获取购物车数据\r\n  const fetchCart = async () => {\r\n    // 检查用户是否登录\r\n    if (!isLoggedIn.value) {\r\n      error.value = '用户未登录'\r\n      return\r\n    }\r\n    \r\n    loading.value = true\r\n    error.value = null\r\n    try {\r\n      const token = localStorage.getItem('userToken')\r\n      \r\n      const response = await axios.get(\r\n        'http://algorineko.top:8080/api/customer/cart/get',\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`\r\n          }\r\n        }\r\n      )\r\n      \r\n      // 映射后端数据结构到前端格式\r\n      items.value = response.data.map(item => ({\r\n        id: item.productId,\r\n        cartItemId: item.cartItemId,\r\n        name: item.product?.name || '未知商品',\r\n        price: Number(item.product?.price) || 0,\r\n        quantity: Math.max(1, Number(item.quantity) || 1),\r\n        image: item.product?.image || '/placeholder-product.jpg'\r\n      }))\r\n    } catch (err) {\r\n      error.value = err.response?.data?.message || err.message\r\n      console.error('获取购物车失败:', err)\r\n    } finally {\r\n      loading.value = false\r\n    }\r\n  }\r\n  \r\n  // 更新购物车项数量\r\n  const updateQuantity = async (cartItemId, quantity) => {\r\n    // 检查用户是否登录\r\n    if (!isLoggedIn.value) {\r\n      error.value = '用户未登录'\r\n      return\r\n    }\r\n    \r\n    loading.value = true\r\n    try {\r\n      const token = localStorage.getItem('userToken')\r\n      \r\n      await axios.put(\r\n        `http://algorineko.top:8080/api/customer/cart/${cartItemId}`,\r\n        {\r\n          cartItemId,\r\n          quantity,\r\n          selectedOptions: \"\" // 根据实际需求调整\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n            'Content-Type': 'application/json'\r\n          }\r\n        }\r\n      )\r\n      \r\n      // 更新本地状态\r\n      const item = items.value.find(i => i.cartItemId === cartItemId)\r\n      if (item) {\r\n        item.quantity = quantity\r\n      }\r\n    } catch (err) {\r\n      error.value = err.response?.data?.message || err.message\r\n      console.error('更新购物车项失败:', err)\r\n      // 重新获取最新数据\r\n      await fetchCart()\r\n    } finally {\r\n      loading.value = false\r\n    }\r\n  }\r\n  \r\n  // 移除商品\r\n  const removeItem = async (cartItemId) => {\r\n    // 检查用户是否登录\r\n    if (!isLoggedIn.value) {\r\n      error.value = '用户未登录'\r\n      return\r\n    }\r\n    \r\n    loading.value = true\r\n    try {\r\n      const token = localStorage.getItem('userToken')\r\n      \r\n      await axios.delete(\r\n        `http://algorineko.top:8080/api/customer/cart/${cartItemId}`,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`\r\n          }\r\n        }\r\n      )\r\n      \r\n      // 更新本地状态\r\n      items.value = items.value.filter(i => i.cartItemId !== cartItemId)\r\n      selectedItems.value.delete(cartItemId)\r\n    } catch (err) {\r\n      error.value = err.response?.data?.message || err.message\r\n      console.error('删除购物车项失败:', err)\r\n    } finally {\r\n      loading.value = false\r\n    }\r\n  }\r\n  \r\n  // 批量移除商品\r\n  const removeItems = async (cartItemIds) => {\r\n    // 检查用户是否登录\r\n    if (!isLoggedIn.value) {\r\n      error.value = '用户未登录'\r\n      return\r\n    }\r\n    \r\n    loading.value = true\r\n    try {\r\n      const token = localStorage.getItem('userToken')\r\n      \r\n      // 并行删除所有选中项\r\n      await Promise.all(\r\n        cartItemIds.map(id => \r\n          axios.delete(\r\n            `http://algorineko.top:8080/api/customer/cart/${id}`,\r\n            {\r\n              headers: {\r\n                Authorization: `Bearer ${token}`\r\n              }\r\n            }\r\n          )\r\n        )\r\n      )\r\n      \r\n      // 更新本地状态\r\n      items.value = items.value.filter(i => !cartItemIds.includes(i.cartItemId))\r\n      cartItemIds.forEach(id => selectedItems.value.delete(id))\r\n    } catch (err) {\r\n      error.value = err.response?.data?.message || err.message\r\n      console.error('批量删除购物车项失败:', err)\r\n    } finally {\r\n      loading.value = false\r\n    }\r\n  }\r\n  \r\n  // 总价计算\r\n  const totalPrice = computed(() => \r\n    items.value.reduce((sum, item) => {\r\n      const price = Number(item.price) || 0\r\n      const quantity = Number(item.quantity) || 1\r\n      return sum + (price * quantity)\r\n    }, 0)\r\n  )\r\n  \r\n  // 选中商品总价\r\n  const selectedTotalPrice = computed(() => \r\n    items.value.reduce((sum, item) => {\r\n      if (selectedItems.value.has(item.cartItemId)) {\r\n        const price = Number(item.price) || 0\r\n        const quantity = Number(item.quantity) || 1\r\n        return sum + (price * quantity)\r\n      }\r\n      return sum\r\n    }, 0)\r\n  )\r\n  \r\n  // 选中的商品列表\r\n  const selectedItemsList = computed(() => \r\n    items.value.filter(item => selectedItems.value.has(item.cartItemId))\r\n  )\r\n\r\n  const toggleSelection = (cartItemId) => {\r\n    if (selectedItems.value.has(cartItemId)) {\r\n      selectedItems.value.delete(cartItemId)\r\n    } else {\r\n      selectedItems.value.add(cartItemId)\r\n    }\r\n  }\r\n  \r\n  // 全选/取消全选\r\n  const toggleSelectAll = () => {\r\n    if (selectedItems.value.size === items.value.length) {\r\n      selectedItems.value.clear()\r\n    } else {\r\n      items.value.forEach(item => selectedItems.value.add(item.cartItemId))\r\n    }\r\n  }\r\n\r\n  const clearSelected = () => selectedItems.value.clear()\r\n\r\n  return {\r\n    items: computed(() => items.value),\r\n    totalPrice,\r\n    selectedTotalPrice,\r\n    selectedItems: computed(() => selectedItems.value),\r\n    selectedItemsList,\r\n    loading: computed(() => loading.value),\r\n    error: computed(() => error.value),\r\n    isLoggedIn,\r\n    fetchCart,\r\n    updateQuantity,\r\n    removeItem,\r\n    removeItems,\r\n    toggleSelection,\r\n    toggleSelectAll,\r\n    clearSelected\r\n  }\r\n})"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}