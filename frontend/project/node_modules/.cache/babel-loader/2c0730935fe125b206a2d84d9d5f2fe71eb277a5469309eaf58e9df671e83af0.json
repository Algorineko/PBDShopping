{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"user-profile\"\n};\nconst _hoisted_2 = {\n  class: \"info-item\"\n};\nconst _hoisted_3 = {\n  class: \"info-item\"\n};\nconst _hoisted_4 = {\n  class: \"dialog-footer\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  const _component_el_dialog = _resolveComponent(\"el-dialog\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[9] || (_cache[9] = _createElementVNode(\"h2\", null, \"我的信息\", -1 /* HOISTED */)), _createVNode(_component_el_card, {\n    class: \"info-card\"\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_2, [_cache[4] || (_cache[4] = _createElementVNode(\"label\", null, \"用户名：\", -1 /* HOISTED */)), _createElementVNode(\"span\", null, _toDisplayString($setup.userInfo.username || '未设置'), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_3, [_cache[5] || (_cache[5] = _createElementVNode(\"label\", null, \"收货地址：\", -1 /* HOISTED */)), _createElementVNode(\"span\", null, _toDisplayString($setup.userInfo.address || '暂无收货地址'), 1 /* TEXT */)]), _createVNode(_component_el_button, {\n      type: \"primary\",\n      onClick: $setup.showEditDialog\n    }, {\n      default: _withCtx(() => _cache[6] || (_cache[6] = [_createTextVNode(\"编辑信息\")])),\n      _: 1 /* STABLE */,\n      __: [6]\n    })]),\n    _: 1 /* STABLE */\n  }), _createCommentVNode(\" 编辑信息对话框 \"), _createVNode(_component_el_dialog, {\n    modelValue: $setup.dialogVisible,\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.dialogVisible = $event),\n    title: \"编辑个人信息\",\n    width: \"30%\"\n  }, {\n    footer: _withCtx(() => [_createElementVNode(\"span\", _hoisted_4, [_createVNode(_component_el_button, {\n      onClick: _cache[2] || (_cache[2] = $event => $setup.dialogVisible = false)\n    }, {\n      default: _withCtx(() => _cache[7] || (_cache[7] = [_createTextVNode(\"取消\")])),\n      _: 1 /* STABLE */,\n      __: [7]\n    }), _createVNode(_component_el_button, {\n      type: \"primary\",\n      onClick: $setup.submitForm\n    }, {\n      default: _withCtx(() => _cache[8] || (_cache[8] = [_createTextVNode(\"确认修改\")])),\n      _: 1 /* STABLE */,\n      __: [8]\n    })])]),\n    default: _withCtx(() => [_createVNode(_component_el_form, {\n      model: $setup.editForm,\n      rules: $setup.rules,\n      ref: \"editFormRef\",\n      \"label-width\": \"80px\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_form_item, {\n        label: \"用户名\",\n        prop: \"username\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $setup.editForm.username,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.editForm.username = $event)\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, {\n        label: \"收货地址\",\n        prop: \"address\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $setup.editForm.address,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.editForm.address = $event),\n          type: \"textarea\",\n          rows: 3\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"model\", \"rules\"])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_createVNode","_component_el_card","default","_withCtx","_hoisted_2","_toDisplayString","$setup","userInfo","username","_hoisted_3","address","_component_el_button","type","onClick","showEditDialog","_cache","_createTextVNode","_","__","_createCommentVNode","_component_el_dialog","modelValue","dialogVisible","$event","title","width","footer","_hoisted_4","submitForm","_component_el_form","model","editForm","rules","ref","_component_el_form_item","label","prop","_component_el_input","rows"],"sources":["E:\\实验例子\\project\\src\\components\\UserProfile.vue"],"sourcesContent":["<template>\r\n  <div class=\"user-profile\">\r\n    <h2>我的信息</h2>\r\n    \r\n    <el-card class=\"info-card\">\r\n      <div class=\"info-item\">\r\n        <label>用户名：</label>\r\n        <span>{{ userInfo.username || '未设置' }}</span>\r\n      </div>\r\n      <div class=\"info-item\">\r\n        <label>收货地址：</label>\r\n        <span>{{ userInfo.address || '暂无收货地址' }}</span>\r\n      </div>\r\n      <el-button type=\"primary\" @click=\"showEditDialog\">编辑信息</el-button>\r\n    </el-card>\r\n\r\n    <!-- 编辑信息对话框 -->\r\n    <el-dialog v-model=\"dialogVisible\" title=\"编辑个人信息\" width=\"30%\">\r\n      <el-form :model=\"editForm\" :rules=\"rules\" ref=\"editFormRef\" label-width=\"80px\">\r\n        <el-form-item label=\"用户名\" prop=\"username\">\r\n          <el-input v-model=\"editForm.username\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"收货地址\" prop=\"address\">\r\n          <el-input v-model=\"editForm.address\" type=\"textarea\" :rows=\"3\" />\r\n        </el-form-item>\r\n      </el-form>\r\n      <template #footer>\r\n        <span class=\"dialog-footer\">\r\n          <el-button @click=\"dialogVisible = false\">取消</el-button>\r\n          <el-button type=\"primary\" @click=\"submitForm\">确认修改</el-button>\r\n        </span>\r\n      </template>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive, onMounted } from 'vue'\r\nimport { ElMessage } from 'element-plus'\r\n\r\n// 用户信息\r\nconst userInfo = ref({\r\n  username: '',\r\n  address: ''\r\n})\r\n\r\n// 初始化加载本地数据\r\nonMounted(() => {\r\n  const savedData = localStorage.getItem('userInfo')\r\n  if(savedData) {\r\n    userInfo.value = JSON.parse(savedData)\r\n  }\r\n})\r\n\r\n// 对话框控制\r\nconst dialogVisible = ref(false)\r\nconst editFormRef = ref()\r\n\r\n// 编辑表单数据\r\nconst editForm = reactive({\r\n  username: '',\r\n  address: ''\r\n})\r\n\r\n// 表单验证规则\r\nconst rules = reactive({\r\n  username: [\r\n    { required: true, message: '请输入用户名', trigger: 'blur' },\r\n    { min: 2, max: 20, message: '用户名长度在2到20个字符', trigger: 'blur' }\r\n  ],\r\n  address: [\r\n    { required: true, message: '请输入收货地址', trigger: 'blur' },\r\n    { max: 100, message: '地址最多100个字符', trigger: 'blur' }\r\n  ]\r\n})\r\n\r\nconst showEditDialog = () => {\r\n  editForm.username = userInfo.value.username\r\n  editForm.address = userInfo.value.address\r\n  dialogVisible.value = true\r\n}\r\n\r\nconst submitForm = async () => {\r\n  try {\r\n    // 表单验证\r\n    await editFormRef.value.validate()\r\n    \r\n    // 更新本地数据\r\n    userInfo.value.username = editForm.username\r\n    userInfo.value.address = editForm.address\r\n    \r\n    // 保存到localStorage\r\n    localStorage.setItem('userInfo', JSON.stringify(userInfo.value))\r\n    \r\n    ElMessage.success('信息修改成功')\r\n    dialogVisible.value = false\r\n  } catch (error) {\r\n    ElMessage.warning('请正确填写表单')\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.info-card {\r\n  max-width: 600px;\r\n  margin: 20px;\r\n  padding: 20px;\r\n}\r\n\r\n.info-item {\r\n  margin: 15px 0;\r\n  font-size: 16px;\r\n}\r\n\r\n.info-item label {\r\n  font-weight: bold;\r\n  color: #666;\r\n  margin-right: 10px;\r\n}\r\n\r\n.dialog-footer {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n</style>"],"mappings":";;EACOA,KAAK,EAAC;AAAc;;EAIhBA,KAAK,EAAC;AAAW;;EAIjBA,KAAK,EAAC;AAAW;;EAkBdA,KAAK,EAAC;AAAe;;;;;;;;uBA1BjCC,mBAAA,CAgCM,OAhCNC,UAgCM,G,0BA/BJC,mBAAA,CAAa,YAAT,MAAI,sBAERC,YAAA,CAUUC,kBAAA;IAVDL,KAAK,EAAC;EAAW;IAJ9BM,OAAA,EAAAC,QAAA,CAKM,MAGM,CAHNJ,mBAAA,CAGM,OAHNK,UAGM,G,0BAFJL,mBAAA,CAAmB,eAAZ,MAAI,sBACXA,mBAAA,CAA6C,cAAAM,gBAAA,CAApCC,MAAA,CAAAC,QAAQ,CAACC,QAAQ,0B,GAE5BT,mBAAA,CAGM,OAHNU,UAGM,G,0BAFJV,mBAAA,CAAoB,eAAb,OAAK,sBACZA,mBAAA,CAA+C,cAAAM,gBAAA,CAAtCC,MAAA,CAAAC,QAAQ,CAACG,OAAO,6B,GAE3BV,YAAA,CAAkEW,oBAAA;MAAvDC,IAAI,EAAC,SAAS;MAAEC,OAAK,EAAEP,MAAA,CAAAQ;;MAbxCZ,OAAA,EAAAC,QAAA,CAawD,MAAIY,MAAA,QAAAA,MAAA,OAb5DC,gBAAA,CAawD,MAAI,E;MAb5DC,CAAA;MAAAC,EAAA;;IAAAD,CAAA;MAgBIE,mBAAA,aAAgB,EAChBnB,YAAA,CAeYoB,oBAAA;IAhChBC,UAAA,EAiBwBf,MAAA,CAAAgB,aAAa;IAjBrC,uBAAAP,MAAA,QAAAA,MAAA,MAAAQ,MAAA,IAiBwBjB,MAAA,CAAAgB,aAAa,GAAAC,MAAA;IAAEC,KAAK,EAAC,QAAQ;IAACC,KAAK,EAAC;;IAS3CC,MAAM,EAAAvB,QAAA,CACf,MAGO,CAHPJ,mBAAA,CAGO,QAHP4B,UAGO,GAFL3B,YAAA,CAAwDW,oBAAA;MAA5CE,OAAK,EAAAE,MAAA,QAAAA,MAAA,MAAAQ,MAAA,IAAEjB,MAAA,CAAAgB,aAAa;;MA5B1CpB,OAAA,EAAAC,QAAA,CA4BoD,MAAEY,MAAA,QAAAA,MAAA,OA5BtDC,gBAAA,CA4BoD,IAAE,E;MA5BtDC,CAAA;MAAAC,EAAA;QA6BUlB,YAAA,CAA8DW,oBAAA;MAAnDC,IAAI,EAAC,SAAS;MAAEC,OAAK,EAAEP,MAAA,CAAAsB;;MA7B5C1B,OAAA,EAAAC,QAAA,CA6BwD,MAAIY,MAAA,QAAAA,MAAA,OA7B5DC,gBAAA,CA6BwD,MAAI,E;MA7B5DC,CAAA;MAAAC,EAAA;;IAAAhB,OAAA,EAAAC,QAAA,CAkBM,MAOU,CAPVH,YAAA,CAOU6B,kBAAA;MAPAC,KAAK,EAAExB,MAAA,CAAAyB,QAAQ;MAAGC,KAAK,EAAE1B,MAAA,CAAA0B,KAAK;MAAEC,GAAG,EAAC,aAAa;MAAC,aAAW,EAAC;;MAlB9E/B,OAAA,EAAAC,QAAA,CAmBQ,MAEe,CAFfH,YAAA,CAEekC,uBAAA;QAFDC,KAAK,EAAC,KAAK;QAACC,IAAI,EAAC;;QAnBvClC,OAAA,EAAAC,QAAA,CAoBU,MAAwC,CAAxCH,YAAA,CAAwCqC,mBAAA;UApBlDhB,UAAA,EAoB6Bf,MAAA,CAAAyB,QAAQ,CAACvB,QAAQ;UApB9C,uBAAAO,MAAA,QAAAA,MAAA,MAAAQ,MAAA,IAoB6BjB,MAAA,CAAAyB,QAAQ,CAACvB,QAAQ,GAAAe,MAAA;;QApB9CN,CAAA;UAsBQjB,YAAA,CAEekC,uBAAA;QAFDC,KAAK,EAAC,MAAM;QAACC,IAAI,EAAC;;QAtBxClC,OAAA,EAAAC,QAAA,CAuBU,MAAiE,CAAjEH,YAAA,CAAiEqC,mBAAA;UAvB3EhB,UAAA,EAuB6Bf,MAAA,CAAAyB,QAAQ,CAACrB,OAAO;UAvB7C,uBAAAK,MAAA,QAAAA,MAAA,MAAAQ,MAAA,IAuB6BjB,MAAA,CAAAyB,QAAQ,CAACrB,OAAO,GAAAa,MAAA;UAAEX,IAAI,EAAC,UAAU;UAAE0B,IAAI,EAAE;;QAvBtErB,CAAA;;MAAAA,CAAA;;IAAAA,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}