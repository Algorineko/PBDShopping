{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock, Fragment as _Fragment, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"shopping-cart\"\n};\nconst _hoisted_2 = {\n  class: \"product-info\"\n};\nconst _hoisted_3 = {\n  key: 2,\n  class: \"checkout\"\n};\nconst _hoisted_4 = {\n  class: \"total\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_image = _resolveComponent(\"el-image\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_input_number = _resolveComponent(\"el-input-number\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _component_el_empty = _resolveComponent(\"el-empty\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"h2\", null, \"购物车 (\" + _toDisplayString($setup.cartItems.length) + \")\", 1 /* TEXT */), $setup.cartItems.length > 0 ? (_openBlock(), _createBlock(_component_el_table, {\n    key: 0,\n    data: $setup.cartItems,\n    border: \"\",\n    style: {\n      \"width\": \"100%\"\n    }\n  }, {\n    default: _withCtx(() => [_createCommentVNode(\" 商品列 \"), _createVNode(_component_el_table_column, {\n      label: \"商品\",\n      width: \"300\"\n    }, {\n      default: _withCtx(scope => [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_el_image, {\n        src: scope.row?.image || '/placeholder-product.jpg',\n        width: \"80\"\n      }, null, 8 /* PROPS */, [\"src\"]), _createElementVNode(\"span\", null, _toDisplayString(scope.row?.name || '未知商品'), 1 /* TEXT */)])]),\n      _: 1 /* STABLE */\n    }), _createCommentVNode(\" 单价列 \"), _createVNode(_component_el_table_column, {\n      prop: \"price\",\n      label: \"单价\",\n      width: \"120\"\n    }, {\n      default: _withCtx(scope => [_createTextVNode(\" ¥\" + _toDisplayString(scope.row?.price?.toFixed(2) || '0.00'), 1 /* TEXT */)]),\n      _: 1 /* STABLE */\n    }), _createCommentVNode(\" 数量列 \"), _createVNode(_component_el_table_column, {\n      label: \"数量\",\n      width: \"150\"\n    }, {\n      default: _withCtx(scope => [_createVNode(_component_el_input_number, {\n        modelValue: scope.row.quantity,\n        \"onUpdate:modelValue\": $event => scope.row.quantity = $event,\n        min: 1,\n        onChange: $event => $setup.updateQuantity(scope.row)\n      }, null, 8 /* PROPS */, [\"modelValue\", \"onUpdate:modelValue\", \"onChange\"])]),\n      _: 1 /* STABLE */\n    }), _createCommentVNode(\" 操作列 \"), _createVNode(_component_el_table_column, {\n      label: \"操作\",\n      width: \"120\"\n    }, {\n      default: _withCtx(scope => [_createVNode(_component_el_button, {\n        type: \"danger\",\n        onClick: $event => $setup.removeItem(scope.row?.id)\n      }, {\n        default: _withCtx(() => _cache[0] || (_cache[0] = [_createTextVNode(\" 删除 \")])),\n        _: 2 /* DYNAMIC */,\n        __: [0]\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"data\"])) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" 空购物车提示 \"), _createVNode(_component_el_empty, {\n    description: \"购物车空空如也，快去选购商品吧！\",\n    class: \"empty-cart\"\n  })], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)), _createCommentVNode(\" 结算区域 \"), $setup.cartItems.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, \"总计: ¥\" + _toDisplayString($setup.totalPrice.toFixed(2)), 1 /* TEXT */), _createVNode(_component_el_button, {\n    type: \"primary\",\n    size: \"large\"\n  }, {\n    default: _withCtx(() => _cache[1] || (_cache[1] = [_createTextVNode(\"去结算\")])),\n    _: 1 /* STABLE */,\n    __: [1]\n  })])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_toDisplayString","$setup","cartItems","length","_createBlock","_component_el_table","data","border","style","default","_withCtx","_createCommentVNode","_createVNode","_component_el_table_column","label","width","scope","_hoisted_2","_component_el_image","src","row","image","name","_","prop","_createTextVNode","price","toFixed","_component_el_input_number","modelValue","quantity","$event","min","onChange","updateQuantity","_component_el_button","type","onClick","removeItem","id","_cache","__","_Fragment","_component_el_empty","description","_hoisted_3","_hoisted_4","totalPrice","size"],"sources":["E:\\实验例子\\project\\src\\components\\ShoppingCart.vue"],"sourcesContent":["<template>\r\n  <div class=\"shopping-cart\">\r\n    <h2>购物车 ({{ cartItems.length }})</h2>\r\n    \r\n    <el-table \r\n      :data=\"cartItems\"\r\n      v-if=\"cartItems.length > 0\"\r\n      border\r\n      style=\"width: 100%\"\r\n    >\r\n      <!-- 商品列 -->\r\n      <el-table-column label=\"商品\" width=\"300\">\r\n        <template #default=\"scope\">\r\n          <div class=\"product-info\">\r\n            <el-image \r\n              :src=\"scope.row?.image || '/placeholder-product.jpg'\" \r\n              width=\"80\" \r\n            />\r\n            <span>{{ scope.row?.name || '未知商品' }}</span>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <!-- 单价列 -->\r\n      <el-table-column prop=\"price\" label=\"单价\" width=\"120\">\r\n        <template #default=\"scope\">\r\n          ¥{{ scope.row?.price?.toFixed(2) || '0.00' }}\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <!-- 数量列 -->\r\n      <el-table-column label=\"数量\" width=\"150\">\r\n        <template #default=\"scope\">\r\n          <el-input-number \r\n            v-model=\"scope.row.quantity\" \r\n            :min=\"1\" \r\n            @change=\"updateQuantity(scope.row)\"\r\n          />\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <!-- 操作列 -->\r\n      <el-table-column label=\"操作\" width=\"120\">\r\n        <template #default=\"scope\">\r\n          <el-button \r\n            type=\"danger\" \r\n            @click=\"removeItem(scope.row?.id)\"\r\n          >\r\n            删除\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <!-- 空购物车提示 -->\r\n    <el-empty \r\n      v-else \r\n      description=\"购物车空空如也，快去选购商品吧！\" \r\n      class=\"empty-cart\"\r\n    />\r\n\r\n    <!-- 结算区域 -->\r\n    <div class=\"checkout\" v-if=\"cartItems.length > 0\">\r\n      <div class=\"total\">总计: ¥{{ totalPrice.toFixed(2) }}</div>\r\n      <el-button type=\"primary\" size=\"large\">去结算</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ElMessage } from 'element-plus'\r\nimport { useCartStore } from '@/stores/cart'\r\nimport { storeToRefs } from 'pinia'\r\n\r\nconst cartStore = useCartStore()\r\nconst { cartItems, totalPrice } = storeToRefs(cartStore)\r\n\r\nconst updateQuantity = (item) => {\r\n  if (!item) return\r\n  if (item.quantity < 1) {\r\n    cartStore.removeItem(item.id)\r\n    ElMessage.warning('商品数量不能小于1')\r\n  }\r\n}\r\n\r\nconst removeItem = (itemId) => {\r\n  if (!itemId) {\r\n    ElMessage.error('无效的商品ID')\r\n    return\r\n  }\r\n  cartStore.removeItem(itemId)\r\n  ElMessage.success('已移除商品')\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.product-info {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 15px;\r\n}\r\n\r\n.checkout {\r\n  margin-top: 30px;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  gap: 30px;\r\n}\r\n\r\n.total {\r\n  font-size: 20px;\r\n  color: #f56c6c;\r\n}\r\n\r\n.empty-cart {\r\n  margin-top: 50px;\r\n  padding: 40px 0;\r\n  background: #fff;\r\n  border-radius: 8px;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}