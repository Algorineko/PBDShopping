{"ast":null,"code":"import { ElMessage } from 'element-plus'; // 添加这行导入\nimport { useCartStore } from '@/stores/cart';\nimport { storeToRefs } from 'pinia';\nexport default {\n  __name: 'ShoppingCart',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const cartStore = useCartStore();\n    const {\n      items: cartItems,\n      totalPrice\n    } = storeToRefs(cartStore);\n    const updateQuantity = item => {\n      if (item.quantity < 1) cartStore.removeItem(item.id);\n    };\n    const removeItem = itemId => {\n      cartStore.removeItem(itemId);\n      ElMessage.success('已移除商品');\n    };\n    const __returned__ = {\n      cartStore,\n      cartItems,\n      totalPrice,\n      updateQuantity,\n      removeItem,\n      get ElMessage() {\n        return ElMessage;\n      },\n      get useCartStore() {\n        return useCartStore;\n      },\n      get storeToRefs() {\n        return storeToRefs;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ElMessage","useCartStore","storeToRefs","cartStore","items","cartItems","totalPrice","updateQuantity","item","quantity","removeItem","id","itemId","success"],"sources":["E:/实验例子/project/src/components/ShoppingCart.vue"],"sourcesContent":["<template>\r\n  <div class=\"shopping-cart\">\r\n    <h2>我的购物车 ({{ cartItems.length }})</h2>\r\n    \r\n    <el-table :data=\"cartItems\" border>\r\n      <el-table-column label=\"商品\">\r\n        <template #default=\"{row}\">\r\n          <div class=\"cart-item\">\r\n            <el-image :src=\"row.image\" width=\"80\" />\r\n            <span class=\"name\">{{ row.name }}</span>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"price\" label=\"单价\" width=\"120\">\r\n        <template #default=\"{row}\">¥{{ row.price.toFixed(2) }}</template>\r\n      </el-table-column>\r\n      <el-table-column label=\"数量\" width=\"150\">\r\n        <template #default=\"{row}\">\r\n          <el-input-number \r\n            v-model=\"row.quantity\" \r\n            :min=\"1\" \r\n            @change=\"updateQuantity(row)\"\r\n          />\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" width=\"120\">\r\n        <template #default=\"{row}\">\r\n          <el-button type=\"danger\" @click=\"removeItem(row.id)\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <div class=\"cart-footer\">\r\n      <div class=\"total\">总计: ¥{{ totalPrice.toFixed(2) }}</div>\r\n      <el-button type=\"primary\" size=\"large\">去结算</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ElMessage } from 'element-plus' // 添加这行导入\r\nimport { useCartStore } from '@/stores/cart'\r\nimport { storeToRefs } from 'pinia'\r\n\r\nconst cartStore = useCartStore()\r\nconst { items: cartItems, totalPrice } = storeToRefs(cartStore)\r\n\r\nconst updateQuantity = (item) => {\r\n  if (item.quantity < 1) cartStore.removeItem(item.id)\r\n}\r\n\r\nconst removeItem = (itemId) => {\r\n  cartStore.removeItem(itemId)\r\n  ElMessage.success('已移除商品')\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.cart-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 15px;\r\n}\r\n\r\n.cart-footer {\r\n  margin-top: 30px;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  gap: 30px;\r\n}\r\n\r\n.total {\r\n  font-size: 18px;\r\n  color: #f56c6c;\r\n}\r\n</style>"],"mappings":"AAwCA,SAASA,SAAS,QAAQ,cAAc,EAAC;AACzC,SAASC,YAAY,QAAQ,eAAe;AAC5C,SAASC,WAAW,QAAQ,OAAO;;;;;;;IAEnC,MAAMC,SAAS,GAAGF,YAAY,CAAC,CAAC;IAChC,MAAM;MAAEG,KAAK,EAAEC,SAAS;MAAEC;IAAW,CAAC,GAAGJ,WAAW,CAACC,SAAS,CAAC;IAE/D,MAAMI,cAAc,GAAIC,IAAI,IAAK;MAC/B,IAAIA,IAAI,CAACC,QAAQ,GAAG,CAAC,EAAEN,SAAS,CAACO,UAAU,CAACF,IAAI,CAACG,EAAE,CAAC;IACtD,CAAC;IAED,MAAMD,UAAU,GAAIE,MAAM,IAAK;MAC7BT,SAAS,CAACO,UAAU,CAACE,MAAM,CAAC;MAC5BZ,SAAS,CAACa,OAAO,CAAC,OAAO,CAAC;IAC5B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}