{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.reduce.js\";\n// stores/cart.js\nimport { defineStore } from 'pinia';\nimport { ref, computed } from 'vue';\nexport const useCartStore = defineStore('cart', () => {\n  const items = ref(JSON.parse(localStorage.getItem('cart')) || []);\n  const addItem = item => {\n    const existing = items.value.find(i => i.id === item.id);\n    if (existing) {\n      existing.quantity += item.quantity;\n    } else {\n      items.value.push({\n        id: item.id,\n        name: item.name,\n        price: Number(item.price),\n        quantity: item.quantity,\n        image: item.image || '/placeholder-product.jpg'\n      });\n    }\n    persistCart();\n  };\n  const removeItem = id => {\n    items.value = items.value.filter(i => i.id !== id);\n    persistCart();\n  };\n  const persistCart = () => {\n    localStorage.setItem('cart', JSON.stringify(items.value));\n  };\n  const totalPrice = computed(() => items.value.reduce((sum, item) => sum + item.price * item.quantity, 0));\n  return {\n    items: computed(() => items.value),\n    totalPrice,\n    addItem,\n    removeItem\n  };\n});","map":{"version":3,"names":["defineStore","ref","computed","useCartStore","items","JSON","parse","localStorage","getItem","addItem","item","existing","value","find","i","id","quantity","push","name","price","Number","image","persistCart","removeItem","filter","setItem","stringify","totalPrice","reduce","sum"],"sources":["E:/实验例子/project/src/stores/cart.js"],"sourcesContent":["// stores/cart.js\r\nimport { defineStore } from 'pinia'\r\nimport { ref, computed } from 'vue'\r\n\r\nexport const useCartStore = defineStore('cart', () => {\r\n  const items = ref(JSON.parse(localStorage.getItem('cart')) || [])\r\n\r\n  const addItem = (item) => {\r\n    const existing = items.value.find(i => i.id === item.id)\r\n    if (existing) {\r\n      existing.quantity += item.quantity\r\n    } else {\r\n      items.value.push({\r\n        id: item.id,\r\n        name: item.name,\r\n        price: Number(item.price),\r\n        quantity: item.quantity,\r\n        image: item.image || '/placeholder-product.jpg'\r\n      })\r\n    }\r\n    persistCart()\r\n  }\r\n\r\n  const removeItem = (id) => {\r\n    items.value = items.value.filter(i => i.id !== id)\r\n    persistCart()\r\n  }\r\n\r\n  const persistCart = () => {\r\n    localStorage.setItem('cart', JSON.stringify(items.value))\r\n  }\r\n\r\n  const totalPrice = computed(() => \r\n    items.value.reduce((sum, item) => sum + item.price * item.quantity, 0)\r\n  )\r\n\r\n  return {\r\n    items: computed(() => items.value),\r\n    totalPrice,\r\n    addItem,\r\n    removeItem\r\n  }\r\n})"],"mappings":";;;;;AAAA;AACA,SAASA,WAAW,QAAQ,OAAO;AACnC,SAASC,GAAG,EAAEC,QAAQ,QAAQ,KAAK;AAEnC,OAAO,MAAMC,YAAY,GAAGH,WAAW,CAAC,MAAM,EAAE,MAAM;EACpD,MAAMI,KAAK,GAAGH,GAAG,CAACI,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC;EAEjE,MAAMC,OAAO,GAAIC,IAAI,IAAK;IACxB,MAAMC,QAAQ,GAAGP,KAAK,CAACQ,KAAK,CAACC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKL,IAAI,CAACK,EAAE,CAAC;IACxD,IAAIJ,QAAQ,EAAE;MACZA,QAAQ,CAACK,QAAQ,IAAIN,IAAI,CAACM,QAAQ;IACpC,CAAC,MAAM;MACLZ,KAAK,CAACQ,KAAK,CAACK,IAAI,CAAC;QACfF,EAAE,EAAEL,IAAI,CAACK,EAAE;QACXG,IAAI,EAAER,IAAI,CAACQ,IAAI;QACfC,KAAK,EAAEC,MAAM,CAACV,IAAI,CAACS,KAAK,CAAC;QACzBH,QAAQ,EAAEN,IAAI,CAACM,QAAQ;QACvBK,KAAK,EAAEX,IAAI,CAACW,KAAK,IAAI;MACvB,CAAC,CAAC;IACJ;IACAC,WAAW,CAAC,CAAC;EACf,CAAC;EAED,MAAMC,UAAU,GAAIR,EAAE,IAAK;IACzBX,KAAK,CAACQ,KAAK,GAAGR,KAAK,CAACQ,KAAK,CAACY,MAAM,CAACV,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKA,EAAE,CAAC;IAClDO,WAAW,CAAC,CAAC;EACf,CAAC;EAED,MAAMA,WAAW,GAAGA,CAAA,KAAM;IACxBf,YAAY,CAACkB,OAAO,CAAC,MAAM,EAAEpB,IAAI,CAACqB,SAAS,CAACtB,KAAK,CAACQ,KAAK,CAAC,CAAC;EAC3D,CAAC;EAED,MAAMe,UAAU,GAAGzB,QAAQ,CAAC,MAC1BE,KAAK,CAACQ,KAAK,CAACgB,MAAM,CAAC,CAACC,GAAG,EAAEnB,IAAI,KAAKmB,GAAG,GAAGnB,IAAI,CAACS,KAAK,GAAGT,IAAI,CAACM,QAAQ,EAAE,CAAC,CACvE,CAAC;EAED,OAAO;IACLZ,KAAK,EAAEF,QAAQ,CAAC,MAAME,KAAK,CAACQ,KAAK,CAAC;IAClCe,UAAU;IACVlB,OAAO;IACPc;EACF,CAAC;AACH,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}