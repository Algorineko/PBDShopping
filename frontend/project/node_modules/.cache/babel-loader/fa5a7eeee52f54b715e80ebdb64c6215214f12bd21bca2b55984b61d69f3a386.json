{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"shopping-cart\"\n};\nconst _hoisted_2 = {\n  class: \"cart-item\"\n};\nconst _hoisted_3 = {\n  class: \"name\"\n};\nconst _hoisted_4 = {\n  class: \"cart-footer\"\n};\nconst _hoisted_5 = {\n  class: \"total\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_image = _resolveComponent(\"el-image\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_input_number = _resolveComponent(\"el-input-number\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"h2\", null, \"我的购物车 (\" + _toDisplayString($setup.cartItems.length) + \")\", 1 /* TEXT */), _createVNode(_component_el_table, {\n    data: $setup.cartItems,\n    border: \"\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_table_column, {\n      label: \"商品\"\n    }, {\n      default: _withCtx(({\n        row\n      }) => [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_el_image, {\n        src: row.image,\n        width: \"80\"\n      }, null, 8 /* PROPS */, [\"src\"]), _createElementVNode(\"span\", _hoisted_3, _toDisplayString(row.name), 1 /* TEXT */)])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_table_column, {\n      prop: \"price\",\n      label: \"单价\",\n      width: \"120\"\n    }, {\n      default: _withCtx(({\n        row\n      }) => [_createTextVNode(\"¥\" + _toDisplayString(row.price.toFixed(2)), 1 /* TEXT */)]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_table_column, {\n      label: \"数量\",\n      width: \"150\"\n    }, {\n      default: _withCtx(({\n        row\n      }) => [_createVNode(_component_el_input_number, {\n        modelValue: row.quantity,\n        \"onUpdate:modelValue\": $event => row.quantity = $event,\n        min: 1,\n        onChange: $event => $setup.updateQuantity(row)\n      }, null, 8 /* PROPS */, [\"modelValue\", \"onUpdate:modelValue\", \"onChange\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_table_column, {\n      label: \"操作\",\n      width: \"120\"\n    }, {\n      default: _withCtx(({\n        row\n      }) => [_createVNode(_component_el_button, {\n        type: \"danger\",\n        onClick: $event => $setup.removeItem(row.id)\n      }, {\n        default: _withCtx(() => _cache[0] || (_cache[0] = [_createTextVNode(\"删除\")])),\n        _: 2 /* DYNAMIC */,\n        __: [0]\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"data\"]), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, \"总计: ¥\" + _toDisplayString($setup.totalPrice.toFixed(2)), 1 /* TEXT */), _createVNode(_component_el_button, {\n    type: \"primary\",\n    size: \"large\"\n  }, {\n    default: _withCtx(() => _cache[1] || (_cache[1] = [_createTextVNode(\"去结算\")])),\n    _: 1 /* STABLE */,\n    __: [1]\n  })])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_toDisplayString","$setup","cartItems","length","_createVNode","_component_el_table","data","border","default","_withCtx","_component_el_table_column","label","row","_hoisted_2","_component_el_image","src","image","width","_hoisted_3","name","_","prop","_createTextVNode","price","toFixed","_component_el_input_number","modelValue","quantity","$event","min","onChange","updateQuantity","_component_el_button","type","onClick","removeItem","id","_cache","__","_hoisted_4","_hoisted_5","totalPrice","size"],"sources":["E:\\实验例子\\project\\src\\components\\ShoppingCart.vue"],"sourcesContent":["<template>\r\n  <div class=\"shopping-cart\">\r\n    <h2>我的购物车 ({{ cartItems.length }})</h2>\r\n    \r\n    <el-table :data=\"cartItems\" border>\r\n      <el-table-column label=\"商品\">\r\n        <template #default=\"{row}\">\r\n          <div class=\"cart-item\">\r\n            <el-image :src=\"row.image\" width=\"80\" />\r\n            <span class=\"name\">{{ row.name }}</span>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"price\" label=\"单价\" width=\"120\">\r\n        <template #default=\"{row}\">¥{{ row.price.toFixed(2) }}</template>\r\n      </el-table-column>\r\n      <el-table-column label=\"数量\" width=\"150\">\r\n        <template #default=\"{row}\">\r\n          <el-input-number \r\n            v-model=\"row.quantity\" \r\n            :min=\"1\" \r\n            @change=\"updateQuantity(row)\"\r\n          />\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" width=\"120\">\r\n        <template #default=\"{row}\">\r\n          <el-button type=\"danger\" @click=\"removeItem(row.id)\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <div class=\"cart-footer\">\r\n      <div class=\"total\">总计: ¥{{ totalPrice.toFixed(2) }}</div>\r\n      <el-button type=\"primary\" size=\"large\">去结算</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { useCartStore } from '@/stores/cart'\r\nimport { storeToRefs } from 'pinia'\r\n\r\nconst cartStore = useCartStore()\r\nconst { items: cartItems, totalPrice } = storeToRefs(cartStore)\r\n\r\nconst updateQuantity = (item) => {\r\n  if (item.quantity < 1) cartStore.removeItem(item.id)\r\n}\r\n\r\nconst removeItem = (itemId) => {\r\n  cartStore.removeItem(itemId)\r\n  ElMessage.success('已移除商品')\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.cart-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 15px;\r\n}\r\n\r\n.cart-footer {\r\n  margin-top: 30px;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  gap: 30px;\r\n}\r\n\r\n.total {\r\n  font-size: 18px;\r\n  color: #f56c6c;\r\n}\r\n</style>"],"mappings":";;EACOA,KAAK,EAAC;AAAe;;EAMbA,KAAK,EAAC;AAAW;;EAEdA,KAAK,EAAC;AAAM;;EAuBrBA,KAAK,EAAC;AAAa;;EACjBA,KAAK,EAAC;AAAO;;;;;;;uBAhCtBC,mBAAA,CAmCM,OAnCNC,UAmCM,GAlCJC,mBAAA,CAAuC,YAAnC,SAAO,GAAAC,gBAAA,CAAGC,MAAA,CAAAC,SAAS,CAACC,MAAM,IAAG,GAAC,iBAElCC,YAAA,CA0BWC,mBAAA;IA1BAC,IAAI,EAAEL,MAAA,CAAAC,SAAS;IAAEK,MAAM,EAAN;;IAJhCC,OAAA,EAAAC,QAAA,CAKM,MAOkB,CAPlBL,YAAA,CAOkBM,0BAAA;MAPDC,KAAK,EAAC;IAAI;MACdH,OAAO,EAAAC,QAAA,CAChB,CAGM;QAJaG;MAAG,OACtBb,mBAAA,CAGM,OAHNc,UAGM,GAFJT,YAAA,CAAwCU,mBAAA;QAA7BC,GAAG,EAAEH,GAAG,CAACI,KAAK;QAAEC,KAAK,EAAC;wCACjClB,mBAAA,CAAwC,QAAxCmB,UAAwC,EAAAlB,gBAAA,CAAlBY,GAAG,CAACO,IAAI,iB;MAT1CC,CAAA;QAaMhB,YAAA,CAEkBM,0BAAA;MAFDW,IAAI,EAAC,OAAO;MAACV,KAAK,EAAC,IAAI;MAACM,KAAK,EAAC;;MAClCT,OAAO,EAAAC,QAAA,CAAS,CAAC;QAAPG;MAAG,OAdhCU,gBAAA,CAcmC,GAAC,GAAAtB,gBAAA,CAAGY,GAAG,CAACW,KAAK,CAACC,OAAO,oB;MAdxDJ,CAAA;QAgBMhB,YAAA,CAQkBM,0BAAA;MARDC,KAAK,EAAC,IAAI;MAACM,KAAK,EAAC;;MACrBT,OAAO,EAAAC,QAAA,CAChB,CAIE;QALiBG;MAAG,OACtBR,YAAA,CAIEqB,0BAAA;QAtBZC,UAAA,EAmBqBd,GAAG,CAACe,QAAQ;QAnBjC,uBAAAC,MAAA,IAmBqBhB,GAAG,CAACe,QAAQ,GAAAC,MAAA;QACpBC,GAAG,EAAE,CAAC;QACNC,QAAM,EAAAF,MAAA,IAAE3B,MAAA,CAAA8B,cAAc,CAACnB,GAAG;;MArBvCQ,CAAA;QAyBMhB,YAAA,CAIkBM,0BAAA;MAJDC,KAAK,EAAC,IAAI;MAACM,KAAK,EAAC;;MACrBT,OAAO,EAAAC,QAAA,CAChB,CAAmE;QADhDG;MAAG,OACtBR,YAAA,CAAmE4B,oBAAA;QAAxDC,IAAI,EAAC,QAAQ;QAAEC,OAAK,EAAAN,MAAA,IAAE3B,MAAA,CAAAkC,UAAU,CAACvB,GAAG,CAACwB,EAAE;;QA3B5D5B,OAAA,EAAAC,QAAA,CA2B+D,MAAE4B,MAAA,QAAAA,MAAA,OA3BjEf,gBAAA,CA2B+D,IAAE,E;QA3BjEF,CAAA;QAAAkB,EAAA;;MAAAlB,CAAA;;IAAAA,CAAA;+BAgCIrB,mBAAA,CAGM,OAHNwC,UAGM,GAFJxC,mBAAA,CAAyD,OAAzDyC,UAAyD,EAAtC,OAAK,GAAAxC,gBAAA,CAAGC,MAAA,CAAAwC,UAAU,CAACjB,OAAO,qBAC7CpB,YAAA,CAAsD4B,oBAAA;IAA3CC,IAAI,EAAC,SAAS;IAACS,IAAI,EAAC;;IAlCrClC,OAAA,EAAAC,QAAA,CAkC6C,MAAG4B,MAAA,QAAAA,MAAA,OAlChDf,gBAAA,CAkC6C,KAAG,E;IAlChDF,CAAA;IAAAkB,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}